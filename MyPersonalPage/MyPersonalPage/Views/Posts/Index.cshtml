@using MyPersonalPage.Models

@using PagedList
@using PagedList.Mvc

@model PagedList<Post>
@{
    ViewBag.Title = "Posts Index Page";
}

  <!-- Page Content -->
<div class="container">
    <div class="row">
        <!-- Blog Post Content Column -->
        <div class="col-lg-8">

            @foreach (var post in Model)
            {
            <!-- Blog Post -->
            <!-- Title -->
                <h2>@post.Title</h2>

            <!-- Date/Time -->
                <p>@Html.ActionLink("Details", "Details", new { slug = post.Slug })   <span class="glyphicon glyphicon-time"></span> Posted on @post.Created.DateTime.ToLongDateString()</p>

            <!-- Post Content -->
                <p class="lead">@Html.Raw(post.Body)</p>
                <hr>
            }
            Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount 

            @Html.PagedListPager(Model, page => Url.Action("Index", new { page }))

            <!-- Blog Comments -->
            <!-- Comments Form -->
            @*<div class="well">
                    <h4>Leave a Comment:</h4>
                    <form role="form">
                        <div class="form-group">
                            <textarea class="form-control" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div>
                <hr>*@
            <!-- Posted Comments -->


        </div>
        <!-- Blog Sidebar Widgets Column -->
        <div class="col-md-4">

            <div class="well">
                <div class="row">
                    @Html.Partial("_LoginPartial")
                </div>
            </div>


            @if (this.User.IsInRole("Admin"))
            {
                <div class="well">
                    <h4>Admin Tools</h4>
                    <p>@Html.ActionLink("Create New", "Create")</p>
                </div>
            }
        </div>
        <!-- /.row -->
        <hr>
        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; Mark Gaines 2015</p>
                </div>
            </div>
            <!-- /.row -->
        </footer>
    </div>
</div>
<!-- /.container -->